<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>O Bom Fascista - Playground</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: #000;
            color: #fff;
            min-height: 100vh;
        }

        .header {
            border-bottom: 4px solid #fff;
            padding: 2rem;
        }

        .container {
            max-width: 1280px;
            margin: 0 auto;
        }

        .app-container {
            flex-direction: row;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .logo {
            font-size: 2rem;
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: -0.02em;
            text-decoration: none;
            color: #000;
            border: 3px solid #fff;
            padding: 0.5rem 1rem 0.5rem 0;
            background: #000;
            color: #fff;
        }

        .logo a {
            font-size: 2rem;
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: -0.02em;
            text-decoration: none;
            color: #fff;
            border: 3px solid #fff;
            padding: 0.5rem 1rem;
            margin: 0 1rem 0 0;
            background: #fff;
            color: #000;
        }

        .nav {
            display: flex;
            gap: 2rem;
        }

        .nav a {
            color: #fff;
            text-decoration: none;
            text-transform: uppercase;
            font-size: 1.125rem;
            letter-spacing: 0.05em;
            transition: opacity 0.3s;
        }

        .nav a:hover {
            opacity: 0.7;
        }

        .main-section {
            padding: 4rem 2rem;
        }

        .page-title {
            border: 4px solid #fff;
            padding: 1.5rem 2rem;
            background: #fff;
            color: #000;
            display: inline-block;
            margin-bottom: 3rem;
        }

        .page-title h1 {
            font-size: 3.5rem;
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: -0.05em;
            line-height: 1;
        }

        .hero-description {
            font-size: 1.5rem;
            text-transform: uppercase;
            border-left: 4px solid #0088ff;
            padding-left: 1.5rem;
            line-height: 1.3;
            margin: 0 0 3rem 0;
            color: #0088ff
        }



        .generator-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 2rem;
        }

        .select-all {
            display: flex;
            grid-template-columns: 1fr;
            gap: 1px;
            margin-bottom: 0rem;
            font-size: 1rem;
        }

        .select-all .btn {
            font-size: 1rem;
            margin: 0;
            padding: 0.25rem;
        }

        .section-title {
            font-size: 2rem;
            font-weight: 900;
            text-transform: uppercase;
            margin-bottom: 1rem;
            color: #FFF;
        }


        .btn {
            width: 100%;
            padding: 1.5rem;
            font-size: 1.5rem;
            font-weight: 900;
            text-transform: uppercase;
            background: #fff;
            color: #000;
            border: 4px solid #fff;
            cursor: pointer;
            transition: all 0.3s;
            letter-spacing: 0.05em;
        }

        .btn:hover {
            background: #0088ff;
            border-color: #0088ff;
        }

        .btn:active {
            transform: scale(0.98);
        }

        .form-group {
            border: 2px solid #fff;
            padding: 2rem;
            background: rgba(255, 255, 255, 0.05);
        }

        .form-row {
            margin-bottom: 1.5rem;
        }

        .form-row:last-child {
            margin-bottom: 0;
        }

        label {
            display: block;
            text-transform: uppercase;
            font-weight: 700;
            margin-bottom: 0.5rem;
            letter-spacing: 0.05em;
        }

        .location-hint {
            font-size: 0.875rem;
            opacity: 0.7;
            margin-top: 0.5rem;
            font-weight: 400;
            text-transform: none;
        }

        select,
        input[type="text"] {
            width: 100%;
            padding: 1rem;
            font-size: 1rem;
            background: #000;
            color: #fff;
            border: 2px solid #fff;
            font-family: inherit;
            text-transform: uppercase;
            font-weight: 700;
        }

        select:focus,
        input[type="text"]:focus {
            outline: none;
            border-color: #0088ff;

        }

        .checkbox-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 0.75rem;
            max-height: 400px;
            overflow-y: auto;
            border: 2px solid rgba(255, 255, 255, 0.3);
            padding: 1rem;
            background: rgba(0, 0, 0, 0.5);
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.5rem;
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s;
            cursor: pointer;
        }

        .checkbox-item:hover {
            border-color: #fff;
            background: rgba(255, 255, 255, 0.1);
        }

        .checkbox-item input[type="checkbox"] {
            width: 24px;
            height: 24px;
            cursor: pointer;
            accent-color: #000;
        }

        .checkbox-item label {
            margin: 0;
            cursor: pointer;
            text-transform: none;
            font-weight: 400;
        }

        .btn-primary {
            width: 100%;
            padding: 1.5rem;
            font-size: 1.5rem;
            font-weight: 900;
            text-transform: uppercase;
            background: #0088ff;
            color: #000;
            border: 4px solid #0088ff;
            cursor: pointer;
            transition: all 0.3s;
            letter-spacing: 0.05em;
        }

        .btn-primary:hover {
            background: #000;
            border-color: #0088ff;
            color: #0088ff
        }

        .btn-primary:active {
            transform: scale(0.98);
        }

        .output-section {
            display: none;
            margin-top: 3rem;
        }

        .output-section.active {
            display: block;
        }

        .query-display {
            border: 4px solid #0088ff;
            padding: 2rem;
            margin-bottom: 1.5rem;
            position: relative;
        }

        .query-text {
            font-family: 'Courier New', monospace;
            font-size: 1.125rem;
            line-height: 1.6;
            word-break: break-word;
            color: #0088ff;
            background: #000;
            width: 100%;
            min-height: 275px;
        }

        .query-stats {
            margin-top: 1rem;
            display: flex;
            gap: 2rem;
            font-size: 1rem;
            text-transform: uppercase;
            font-weight: 700;
        }

        .buttons {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1rem;
        }

        .action-btn {
            padding: 1.25rem;
            font-size: 1.125rem;
            font-weight: 900;
            text-transform: uppercase;
            border: 3px solid #fff;
            cursor: pointer;
            transition: all 0.3s;
            letter-spacing: 0.05em;
            text-decoration: none;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .copy-btn {
            background: #FF3366;
            color: #fff;
        }

        .copy-btn:hover {
            background: #fff;
            color: #FF3366;
        }

        .test-btn {
            background: #0088FF;
            color: #fff;
        }

        .test-btn:hover {
            background: #fff;
            color: #0088FF;
        }

        .copy-btn.copied {
            background: #0088ff;
            color: #000;
        }


        .preview p {
            font-size: 1.5rem;
            border-left: 4px solid #fff;
            padding-left: 1.5rem;
            line-height: 1.3;
            margin: 0 0 3rem 0;
        }

        .preview h3 {
            font-size: 1.5rem;
            margin: 2rem 0;

        }

        .about-section {
            padding: 10rem 0 0 0;
            max-width: 70%;
        }

        .about-section p {
            font-size: 1.5rem;
            border-left: 4px solid #fff;
            padding-left: 1.5rem;
            line-height: 1.3;
            margin: 0 0 3rem 0;
        }

        .result-panel {
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        footer {
            border-top: 4px solid #fff;
            padding: 3rem 2rem;
            margin-top: 4rem;
        }

        .footer-content {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .footer-left {
            text-transform: uppercase;
            font-size: 1.25rem;
            letter-spacing: 0.05em;
        }

        .footer-content a {
            color: #fff;
            text-decoration: none;
        }

        .footer-content a:hover {
            text-decoration: underline;
        }

        .footer-links {
            display: flex;
            gap: 2rem;
            text-transform: uppercase;
            font-size: 1.125rem;
        }

        .footer-links a {
            color: #fff;
            text-decoration: none;
        }

        .footer-links a:hover {
            text-decoration: underline;
        }


        #game {
            border: 3px solid #4a4a4a;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 0 20px rgba(0, 200, 255, 0.3);
        }

        .instructions {
            position: absolute;
            top: 20px;
            left: 20px;
            color: white;
            font-size: 18px;
            z-index: 100;
        }

        @media (min-width: 768px) {
            .checkbox-grid {
                grid-template-columns: 1fr 1fr;
            }

            .action-buttons {
                grid-template-columns: 1fr 1fr;
            }

            .footer-content {
                flex-direction: row;
                justify-content: space-between;
                align-items: center;
            }

        }

        @media (min-width: 1024px) {
            .generator-grid {
                grid-template-columns: 1fr 1fr;
            }

            .checkbox-grid {
                grid-template-columns: 1fr 1fr 1fr;
            }
        }

        @media (max-width: 763px) {
            .logo {
                font-size: 1rem;
            }

            .logo a {
                font-size: 1rem;
            }
        }
    </style>

</head>

<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <p class="logo">
                    <a href="http://sergiorebelo.org">PLAYGROUND</a>O Bom Fascista
                </p>
                <nav class="nav">
                    <a href="#about">About</a>
                </nav>
            </div>
        </div>
    </header>

    <!-- Main Section -->
    <section class="main-section">
        <div class="container">


            <p class="hero-description">
                This will be the home of a new game inspired by "O Bom Fascista" book by the Portuguese author Rui Zink.
            </p>

            <!-- Game Container -->
           <div id="game"></div>
    <div class="instructions">
        Use LEFT/RIGHT to move, SPACE to jump
    </div>
            <p class="hero-description">
                In the meanwhile, click on the book cover to buy it and read more about this amazing satirical book!
            </p>


            <a href="https://www.bertrand.pt/livro/manual-do-bom-fascista-rui-zink/23030315" target="_blank"
                rel="noopener noreferrer">
                <img src="manual_do_bom_fascista_cover.jpg" alt="Manual do Bom Fascista book cover"
                    style="max-height: 80kev; border: 4px solid #fff;">
            </a>


            <!-- FAQ-->
            <div anchor="about" class="about-section" id="about" style="margin-top: 4rem;">

                <p>
                    "Manual do Bom Fascista" is a satirical book by Rui Zink that humorously explores the rise of
                    fascism in Portugal through this guide on "How to be a good fascist". Rui Zink's sharp wit and keen
                    observations make this book a compelling read for those interested in political satire and
                    contemporary Portuguese literature.
                </p>
                <p>
                    The book delves into the characteristics, behaviors, and ideologies associated with fascism,
                    presenting them in a satirical manner that encourages readers to reflect on the political climate
                    and societal issues. Through humor and irony, Rui Zink sheds light on the dangers of
                    authoritarianism and the importance of vigilance in preserving democratic values.
                </p>
            </div>
        </div>
    </section>


    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-left">
                    <a href="http://sergiorebelo.org">Playground</a> by <a href="http://sergiorebelo.com">SÃ©rgio
                        Rebelo</a>
                </div>
                <div class="footer-links">
                    <a href="#">contact</a>

                </div>
            </div>
        </div>
    </footer>
<script src="https://kaboomjs.com/lib/0.7.1/kaboom.js"></script>
    <script>
        // Initialize Kaboom
        kaboom({
            global: true,
            width: 1024,
            height: 576,
            canvas: document.getElementById("game"),
            background: [10, 10, 40],
            scale: 1,
            crisp: true,
            debug: false,
        });

        // First, let's create a simple working version
        scene("main", () => {
            // Create a simple background
            add([
                rect(width(), height()),
                color(10, 10, 40),
                pos(0, 0),
                layer("bg"),
                "background"
            ]);

            // Create ground
            add([
                rect(width() * 3, 100),
                color(40, 40, 40),
                pos(0, height() - 100),
                area(),
                body({ isStatic: true }),
                "ground"
            ]);

            // Add some street lines
            for (let i = 0; i < 15; i++) {
                add([
                    rect(80, 5),
                    color(255, 255, 100),
                    pos(i * 200, height() - 50),
                    "ground"
                ]);
            }

            // Create simple buildings
            for (let i = 0; i < 10; i++) {
                const buildingHeight = 150 + Math.random() * 200;
                add([
                    rect(120, buildingHeight),
                    color(30, 30, 50),
                    pos(i * 250, height() - 100 - buildingHeight),
                    "background"
                ]);

                // Add windows
                for (let w = 0; w < 3; w++) {
                    for (let h = 0; h < 4; h++) {
                        if (Math.random() > 0.5) {
                            add([
                                rect(20, 25),
                                color(255, 200, 100),
                                pos(i * 250 + 20 + w * 35, height() - 100 - buildingHeight + 20 + h * 35),
                                "background"
                            ]);
                        }
                    }
                }
            }

            // Create player - using Kaboom's built-in bean sprite
            const player = add([
                sprite("bean"),  // Kaboom's built-in character
                pos(200, 300),
                area(),
                body(),
                {
                    speed: 300,
                    jumpForce: 500,
                    direction: "right",
                },
                "player"
            ]);

            // Add some platforms
            const platforms = [
                { x: 400, y: 400, w: 200, h: 20 },
                { x: 700, y: 350, w: 150, h: 20 },
                { x: 1000, y: 300, w: 200, h: 20 },
            ];

            platforms.forEach(plat => {
                add([
                    rect(plat.w, plat.h),
                    pos(plat.x, plat.y),
                    area(),
                    body({ isStatic: true }),
                    color(100, 100, 100),
                    "platform"
                ]);
            });

            // Controls
            onKeyDown("left", () => {
                player.move(-player.speed, 0);
                player.flipX = true;
            });

            onKeyDown("right", () => {
                player.move(player.speed, 0);
                player.flipX = false;
            });

            onKeyPress("space", () => {
                if (player.isGrounded()) {
                    player.jump(player.jumpForce);
                }
            });

            onKeyPress("up", () => {
                if (player.isGrounded()) {
                    player.jump(player.jumpForce);
                }
            });

            // Camera follow
            player.onUpdate(() => {
                camPos(player.pos.x, height() / 2);
            });

            // Add a test NPC
            const npc = add([
                rect(40, 80),
                pos(600, height() - 180),
                color(0, 200, 100),
                area(),
                "npc"
            ]);

            // Add floating text
            add([
                text("Citizen", { size: 16 }),
                pos(600, height() - 200),
                color(255, 255, 255)
            ]);

            // Add some coins to collect
            for (let i = 0; i < 10; i++) {
                add([
                    rect(20, 20),
                    pos(300 + i * 100, 200 + Math.sin(i) * 50),
                    color(255, 215, 0),
                    area(),
                    "coin"
                ]);
            }

            // Coin collection
            player.onCollide("coin", (coin) => {
                destroy(coin);
                add([
                    text("+1", { size: 24 }),
                    pos(coin.pos),
                    color(255, 215, 0),
                    lifespan(1, { fade: 0.5 })
                ]);
            });

            // Debug boundary
            onUpdate(() => {
                if (player.pos.y > height() + 200) {
                    player.pos = vec2(200, 300);
                }
            });
        });

        // Start screen
        scene("start", () => {
            add([
                rect(width(), height()),
                color(0, 0, 0)
            ]);

            add([
                text("CITY ADVENTURE", { size: 48 }),
                pos(width() / 2, height() / 3),
                origin("center"),
                color(100, 200, 255)
            ]);

            add([
                text("Press SPACE to start", { size: 24 }),
                pos(width() / 2, height() / 2),
                origin("center"),
                color(255, 255, 255)
            ]);

            onKeyPress("space", () => {
                go("main");
            });
        });

        // Start the game
        start("start");
    </script>
</body>

</html>